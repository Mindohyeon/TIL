# Property 란?
객체 지향 프로그래밍 언어에서 필드와 메소드 간 기능의 중간인 클래스 멤버의 특수한 유형이다. 프로퍼티의 읽기와 쓰기는 일반적으로 getter 메서드와 setter 메서드 호출로 변환된다.

Property 는 크게 5가지가 존재한다. 
- 저장 프로퍼티
- 지연 저장 프로퍼티
- 연산 프로퍼티
- 프로퍼티 감시자
- 타입 프로퍼티


## 저장 프로퍼티(Stored Properties)
가장 단순한 개념의 프로퍼티로써, 클래스 또는 구조체의 인스턴스와 연관된 값을 저장하는 프로퍼티이다.

> 구조체의 저장 프로퍼티가 옵셔널이 아니라도, 구조체는 저장 프로퍼티를 포함하는 이니셜라이즈를 자동으로 생성한다.

> 클래스의 저장 프로퍼티는 옵셔널이 아니라면 프로퍼티 기본값을 지정해주거나 사용자정의 이니셜라이즈를 통해 반드시 초기화해야한다. 그렇지 않으면 프로퍼티 초기값을 할당할 수 없기 때문에 인스턴스 생성이 불가능 하다.
```Swift
struct Stored {
    var x : Int  //저장 프로퍼티
    var y : Int  //저장 프로퍼티
}

//구조체는 기본적으로 저장 프로퍼티를 매개변수로 가지는 이니셜라이즈가 있다.
let point : stored = stored(x : 10, y : 10)

class Position {
    var pointer : stored //저장 프로퍼티(변수)
    let name : String //저장 프로퍼티(상수)
}

```

## 지연 저장 프로퍼티(Lazy Stored Properties)
```lazy``` 키워드를 사용하고, 호출이 있어야 값을 초기화 할 수 있다.

<b>상수는 인스턴스가 완전히 생성되기 전에 초기화</b> 되어야 하기 때문에 필요할 때 값을 할당하는 <b>지연 저장 프로퍼티에는 맞지 않다.</b> 따라서 ```var``` 키워드를 사용하여 변수로 정의한다.
- 주로 복잡한 클래스나 구조체를 구현할 때 사용된다.   

인스턴스를 초기화하면서 저장 프로퍼티로 쓰이는 인스턴스들이 한 번에 생성되거나 모든 저장 프로퍼티를 생성할 필요가 없다면 그때 지연 저장 프로퍼티를 사용하면 된다.

#### 효과
지연 저장 프로퍼티를 잘 사용하면 불필요한 성능 저하나 공간 낭비를 줄일 수 있다.     
```swift

struct Stored {
    var x : Int = 0
    var y : Int = 0
}

class Position {
    lazy var point : stored = stored()
    let name : String

    init(name : String) {
        self.name = name
    }
}
// position 이라는 객체는 생성됐지만 아직 Stored는 객체에 생성되지 않았다.
let position : Position = Position(name : "도현")

// 이 코드를 통해 point 프로프티로 처음 접근할 때 point 프로퍼티의 Stored 가 생성된다.
print(position.point)
```

## 연산 프로퍼티(Computed Properties)
실제 값을 연산하는 것이 아닌, <b>특정 상태에 따른 값을 연산하는 프로퍼티이다.</b>

인스턴스 내/외부의 값을 연산하여 적절한 값을 돌려주는 ```getter``` 의 역할이나 은닉화된 내부의 프로퍼티 값을 간접적으로 설정하는 ```setter``` 의 역할을 수행할 수도 있다.

- 클래스, 구조체, 열거형에 모두 추가 가능하다.

### 연산 프로퍼티를 굳이 쓰는 이유?
인스턴스 외부에서 메서드를 통해 인스턴스 내부 값에 접근하려면 메서드를 두 개(getter, setter) 구현해야한다.

이 부분에서 <b>가독성이 떨어진다고 생각 들어 프로퍼티가 메서드보다 훨씬 간편하고 직관적이어서 생겨난 것 같다.</b>

### 주의해야 할 점
연산 프로퍼티는 get 메서드처럼 읽기 전용으로 구현하기는 쉽지만, 쓰기 전용으로 구현할 수 없다는 단점이 있다.(메서드로는 가능하지만 프로퍼티는 불가능)

## 프로퍼티 감시자(Property Observers)
프로퍼티의 값이 변경됨에 따라 적절한 액션을 취할 수 있다.

<b>프로퍼티의 값이 새로 할당될 때마다 호출되고 변경되는 값이 현재의 값과 같더라도 호출된다.</b>

프로퍼티 감시자는 지연 저장 프로퍼티에 사용할 수 없고, <b>오로지 저장 프로퍼티에만 적용할 수 있다.</b>

프로퍼티 감시자에는 <b>프로퍼티의 값이 변경되기 직전에 호출되는</b> ```willSet 메서드```와 <b>프로퍼티의 값이 변경된 직후에 호출되는</b> ```didSet 메서드```가 있다.

#### willSet
willSet 메서드에서 전달되는 전달인자는 프로퍼티가 <b>변경될 값</b>이다.

#### didSet
didSet 메서드에서 전달되는 프로퍼티의 값은 <b>변경되기 전의 값</b>이다.


willSet 메서드와 didSet 메서드는 매개변수가 하나씩 있는데 매개변수를 따로 설정하지 않으면 ```willSet``` 메서드에는 <b>newValue</b> , ```didSet``` 메서드에는 <b>oldValue</b> 가 매개변수로 자동으로 저장된다.

## 타입 프로퍼티(Type Properties)
각각의 인스턴스가 아닌 타입 자체에 속하게 되는 프로퍼티이다.